<% layout('/layouts/boilerplate') -%>
<div class="row mt-3">
    <div class="col-8 offset-2">
    <br><br>
    <h3>List Your Item</h3>
    <form action="/listings" method="post" enctype="multipart/form-data">
        <div class="mb-3">
            <label for="title" class="form-label">Item Name *</label>
            <input type="text" 
            name="listing[title]"  
            placeholder="What are you selling?" 
            class="form-control"
            required>
            <small class="text-muted">* Required field</small>
        </div>

        <div class="mb-3">
            <label for="description" class="form-label">Description (Optional)</label>
            <textarea type="text" 
            name="listing[description]" 
            placeholder="Describe your item"
            class="form-control"></textarea>
        </div>

        <div class="mb-3">
            <label for="image" class="form-label">Upload Images (Optional)</label>
            <input type="file" 
            name="image" 
            class="form-control"
            accept="image/*"
            multiple>
            <small class="text-muted">You can upload multiple images</small>
        </div>

        <div class="row">
            <div class="mb-3 col-md-6">
                <label for="price" class="form-label">Price (â‚¹) *</label>
                <input type="number" 
                name="listing[price]" 
                placeholder="100"
                class="form-control"
                required>
            </div>
            <div class="mb-3 col-md-6">
                <label for="range" class="form-label">Range (meters)</label>
                <input type="number" 
                name="listing[range]" 
                value="500"
                min="100"
                max="1000"
                class="form-control">
            </div>
        </div>

        <div class="row">
            <div class="mb-3 col-md-6">
                <label for="sellerName" class="form-label">Your Name (Optional)</label>
                <input type="text" 
                name="listing[sellerName]" 
                placeholder="John Doe"
                class="form-control">
            </div>
            <div class="mb-3 col-md-6">
                <label for="sellerContact" class="form-label">Contact Info (Optional)</label>
                <input type="text" 
                name="listing[sellerContact]" 
                placeholder="Email or Phone"
                class="form-control">
            </div>
        </div>

        <div class="mb-3">
            <label for="location" class="form-label">Pickup Location (Optional)</label> 
            <input type="text" 
            name="listing[location]"
            placeholder="Enter your location (e.g., Area, City)"
            class="form-control">
        </div>

        <div class="row">
            <div class="mb-3 col-md-6">
                <label class="form-label">Category (Optional)</label>
                <select name="listing[category]" class="form-control">
                    <option value="">Select Category...</option>
                    <option value="Electronics">Electronics</option>
                    <option value="Furniture">Furniture</option>
                    <option value="Clothing">Clothing</option>
                    <option value="Books">Books</option>
                    <option value="Home">Home</option>
                    <option value="Other">Other</option>
                </select>
            </div>
            <div class="mb-3 col-md-6">
                <label class="form-label">Condition (Optional)</label>
                <select name="listing[condition]" class="form-control">
                    <option value="">Select Condition...</option>
                    <option value="New">New</option>
                    <option value="Like New">Like New</option>
                    <option value="Good">Good</option>
                    <option value="Fair">Fair</option>
                    <option value="Poor">Poor</option>
                </select>
            </div>
        </div>

        <div class="additional-info" style="display: none;">
            <div class="mb-3">
                <label class="form-label">Tags (Optional)</label>
                <input type="text" 
                       name="listing[tags]" 
                       class="form-control" 
                       placeholder="e.g., vintage, rare, branded">
            </div>

            <div class="row">
                <div class="mb-3 col-md-6">
                    <label class="form-label">Minimum Price (Optional)</label>
                    <input type="number" 
                           name="listing[minAcceptablePrice]" 
                           class="form-control">
                </div>
                <div class="mb-3 col-md-6">
                    <div class="form-check mt-4">
                        <input type="checkbox" 
                               name="listing[negotiable]" 
                               class="form-check-input" 
                               id="negotiableCheck"
                               value="true">
                        <label class="form-check-label" for="negotiableCheck">
                            Price is negotiable
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <button type="button" class="btn btn-outline-secondary mb-3" onclick="toggleAdditionalInfo()">
            Show More Options
        </button>

        <button type="submit" class="btn btn-success add-btn mt-3">List Item</button>
        <br><br>
    </form>
    </div>
</div>

<script>
function toggleAdditionalInfo() {
    const additionalInfo = document.querySelector('.additional-info');
    const button = document.querySelector('.btn-outline-secondary');
    if (additionalInfo.style.display === 'none') {
        additionalInfo.style.display = 'block';
        button.textContent = 'Show Less Options';
    } else {
        additionalInfo.style.display = 'none';
        button.textContent = 'Show More Options';
    }
}
</script>

